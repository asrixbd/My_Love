<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Excellence | For Oshu</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;400;600&family=Playfair+Display:ital,wght@1,400;1,700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <style>
        :root {
            --bg: #050505;
            --accent: #d4af37;
            --rose: #ff2d55;
            --glass-white: rgba(255, 255, 255, 0.03);
            --border: rgba(255, 255, 255, 0.1);
            --text-p: rgba(255, 255, 255, 0.6);
            --font-main: 'Plus Jakarta Sans', sans-serif;
            --font-serif: 'Playfair Display', serif;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; cursor: none; }
        body { background: var(--bg); color: #fff; font-family: var(--font-main); overflow: hidden; height: 100vh; }

        /* --- Cursor --- */
        #cursor { position: fixed; width: 8px; height: 8px; background: #fff; border-radius: 50%; pointer-events: none; z-index: 10000; mix-blend-mode: difference; }
        #cursor-follower { position: fixed; width: 40px; height: 40px; border: 1px solid rgba(255,255,255,0.2); border-radius: 50%; pointer-events: none; z-index: 9999; }

        /* --- Background --- */
        #canvas-container { position: fixed; inset: 0; z-index: 0; opacity: 0.5; }

        /* --- Intro Page --- */
        #stage-intro {
            position: fixed; inset: 0; z-index: 500; background: var(--bg);
            display: flex; flex-direction: column; align-items: center; justify-content: center;
        }
        .intro-reveal { overflow: hidden; margin-bottom: 2rem; }
        .intro-reveal span { display: block; font-size: 0.7rem; letter-spacing: 0.5rem; text-transform: uppercase; color: var(--text-p); }
        
        .cta-main {
            background: none; border: 1px solid var(--border); padding: 1.2rem 4rem;
            color: #fff; letter-spacing: 3px; font-weight: 200; transition: 0.5s cubic-bezier(0.19, 1, 0.22, 1);
            position: relative; overflow: hidden;
        }
        .cta-main:hover { border-color: #fff; background: rgba(255,255,255,0.05); letter-spacing: 5px; }

        /* --- Content --- */
        #main-wrapper { position: relative; z-index: 10; height: 100vh; width: 100%; display: flex; align-items: center; justify-content: center; }
        
        .content-card {
            position: absolute; width: 90%; max-width: 1000px; display: none;
            grid-template-columns: 1.2fr 1fr; gap: 4rem; align-items: center;
            opacity: 0;
        }
        .content-card.active { display: grid; opacity: 1; }

        .visual-side { 
            position: relative; height: 450px; background: var(--glass-white); 
            border: 1px solid var(--border); border-radius: 4px; 
            display: flex; align-items: center; justify-content: center; 
        }

        h1 { font-family: var(--font-serif); font-size: clamp(2.5rem, 6vw, 4.5rem); font-weight: 400; margin-bottom: 1.5rem; line-height: 1.1; }
        p { color: var(--text-p); line-height: 1.8; font-size: 1.1rem; max-width: 420px; }

        /* --- Tree SVG --- */
        #pro-tree-svg { width: 70%; height: 70%; }
        .tree-path { stroke: #fff; stroke-width: 1.5; fill: none; }
        .leaf { fill: var(--rose); opacity: 0; }

        /* --- Navigation --- */
        .nav-dock {
            position: fixed; bottom: 40px; left: 50%; transform: translateX(-50%);
            display: none; align-items: center; gap: 30px; background: rgba(10,10,10,0.85);
            padding: 12px 35px; border-radius: 100px; border: 1px solid var(--border); backdrop-filter: blur(15px); z-index: 1000;
        }
        .step-indicator { font-size: 0.65rem; color: var(--accent); letter-spacing: 2px; font-weight: 600; }
        .next-btn-pro { background: none; border: none; color: #fff; font-size: 0.7rem; letter-spacing: 2px; text-transform: uppercase; transition: 0.3s; }
        .next-btn-pro:hover { color: var(--accent); transform: translateX(5px); }

        @media (max-width: 800px) {
            .content-card { grid-template-columns: 1fr; text-align: center; gap: 2rem; }
            .visual-side { height: 280px; order: -1; }
            h1 { font-size: 2.8rem; }
            p { margin: 0 auto; }
            .nav-dock { width: 90%; justify-content: space-between; padding: 12px 25px; }
        }
    </style>
</head>
<body>

    <div id="cursor"></div>
    <div id="cursor-follower"></div>
    <div id="canvas-container"></div>

    <div class="nav-dock" id="nav-dock">
        <div class="step-indicator" id="progress-text">PHASE 01 // 04</div>
        <button class="next-btn-pro" id="continue-btn" onclick="transitionSlide()">Continue →</button>
    </div>

    <section id="stage-intro">
        <div class="intro-reveal">
            <span>A Private Experience</span>
        </div>
        <button class="cta-main" onclick="initiateExperience()">ENTER EXHIBIT</button>
    </section>

    <main id="main-wrapper">
        <section class="content-card active" id="slide-0">
            <div class="text-side">
                <div class="step-indicator">01 — GREETING</div>
                <h1>Hello, <br><i style="color: var(--accent)">Oshu.</i></h1>
                <p>Welcome to a digital space curated specifically for you. A moment to pause and celebrate your brilliance.</p>
            </div>
            <div class="visual-side">
                <div style="font-family: var(--font-serif); font-size: 10rem; opacity: 0.05; user-select: none;">OS</div>
            </div>
        </section>

        <section class="content-card" id="slide-1">
            <div class="text-side">
                <div class="step-indicator">02 — REFLECTION</div>
                <h1>Constant <br>Grace.</h1>
                <p>In a world of noise, your presence is the melody that makes sense. Thank you for being you.</p>
            </div>
            <div class="visual-side">
                <div id="orb" style="width: 120px; height: 120px; border-radius: 50%; border: 1px solid var(--accent); box-shadow: 0 0 60px rgba(212,175,55,0.2);"></div>
            </div>
        </section>

        <section class="content-card" id="slide-2">
            <div class="text-side">
                <div class="step-indicator">03 — CELEBRATION</div>
                <h1>The <br>Dream.</h1>
                <p>Close your eyes. Think of one wish. Tap the core when you're ready to release it.</p>
            </div>
            <div class="visual-side" onclick="igniteWish(this)">
                <div style="font-size: 4rem; filter: drop-shadow(0 0 20px var(--accent));">✨</div>
            </div>
        </section>

        <section class="content-card" id="slide-3">
            <div class="text-side">
                <div class="step-indicator">04 — ETERNITY</div>
                <h1>Always.</h1>
                <p>I am the one who stays. No matter the distance or the time, you have a constant here.</p>
                <h2 style="margin-top: 2rem; font-family: var(--font-serif); color: var(--rose); font-size: 2.5rem;">I Love You.</h2>
            </div>
            <div class="visual-side">
                <svg id="pro-tree-svg" viewBox="0 0 200 200">
                    <path class="tree-path" id="trunk" d="M100,180 Q100,100 100,40 M100,120 Q60,110 40,120 M100,90 Q140,70 160,80" />
                    <circle class="leaf" cx="40" cy="120" r="5" />
                    <circle class="leaf" cx="160" cy="80" r="6" />
                    <circle class="leaf" cx="100" cy="40" r="7" />
                    <circle class="leaf" cx="85" cy="65" r="4" />
                </svg>
            </div>
        </section>
    </main>

    <script>
        let currentSlide = 0;
        const totalSlides = 4;

        // 1. Cursor Engine
        const cursor = document.getElementById('cursor');
        const follower = document.getElementById('cursor-follower');
        document.addEventListener('mousemove', (e) => {
            gsap.to(cursor, { x: e.clientX, y: e.clientY, duration: 0 });
            gsap.to(follower, { x: e.clientX - 20, y: e.clientY - 20, duration: 0.15 });
        });

        // 2. Three.js Background
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        const starGeo = new THREE.BufferGeometry();
        const starCount = 1000;
        const posArray = new Float32Array(starCount * 3);
        for(let i=0; i < starCount * 3; i++) posArray[i] = (Math.random() - 0.5) * 100;
        starGeo.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
        const stars = new THREE.Points(starGeo, new THREE.PointsMaterial({ size: 0.05, color: 0xffffff }));
        scene.add(stars);
        camera.position.z = 40;

        function animate() {
            requestAnimationFrame(animate);
            stars.rotation.y += 0.0005;
            renderer.render(scene, camera);
        }
        animate();

        // 3. Initiate
        function initiateExperience() {
            const tl = gsap.timeline();
            tl.to(".cta-main", { opacity: 0, scale: 0.9, duration: 0.4 })
              .to("#stage-intro", { y: "-100%", duration: 1, ease: "expo.inOut", onComplete: () => {
                  document.getElementById('stage-intro').style.display = 'none';
              }})
              .set("#nav-dock", { display: "flex", opacity: 0 })
              .to("#nav-dock", { opacity: 1, duration: 0.5 })
              .from(".active .text-side > *", { opacity: 0, x: -30, stagger: 0.15, duration: 0.8, ease: "power3.out" }, "-=0.3")
              .from(".active .visual-side", { opacity: 0, scale: 0.9, duration: 1, ease: "power2.out" }, "-=0.8");
        }

        // 4. Slide Controller (The Fix)
        function transitionSlide() {
            if (currentSlide >= totalSlides - 1) return;

            const current = document.getElementById(`slide-${currentSlide}`);
            const nextIdx = currentSlide + 1;
            const next = document.getElementById(`slide-${nextIdx}`);
            const btn = document.getElementById('continue-btn');

            btn.style.pointerEvents = 'none';

            // Out Animation
            gsap.to(current, { 
                opacity: 0, 
                y: -30, 
                duration: 0.6, 
                ease: "power3.in",
                onComplete: () => {
                    current.classList.remove('active');
                    current.style.display = 'none';

                    // Switch
                    currentSlide = nextIdx;
                    next.style.display = 'grid';
                    next.classList.add('active');
                    document.getElementById('progress-text').innerText = `PHASE 0${currentSlide + 1} // 04`;

                    // In Animation
                    gsap.fromTo(next, 
                        { opacity: 0, y: 30 }, 
                        { opacity: 1, y: 0, duration: 0.8, ease: "power3.out", onComplete: () => {
                            btn.style.pointerEvents = 'auto';
                        }}
                    );

                    if(currentSlide === 3) animateFinal();
                }
            });
        }

        function animateFinal() {
            gsap.set(".tree-path", { strokeDasharray: 500, strokeDashoffset: 500 });
            gsap.to(".tree-path", { strokeDashoffset: 0, duration: 2.5, ease: "power2.inOut" });
            gsap.to(".leaf", { opacity: 1, scale: 1.5, stagger: 0.2, duration: 1, delay: 1, ease: "back.out(1.7)" });
        }

        function igniteWish(el) {
            el.innerHTML = "<div style='color: var(--accent); font-size: 1.2rem; letter-spacing: 2px;'>WISH ARCHIVED</div>";
            gsap.from(el, { scale: 0.9, opacity: 0, duration: 0.5 });
        }

        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });
    </script>
</body>
</html>
